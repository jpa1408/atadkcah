version: 2

metrics:
  - name: daily_active_repos
    label: Daily Active Repositories
    description: "Número de repositorios con al menos un evento en el día"
    model: fact_daily_activity
    type: simple
    type_params:
      measure:
        name: repo_name
        agg: count_distinct # O 'aggregation' dependiendo de la versión
    timestamp: activity_date
    time_grains: [day, week, month, quarter, year]
    meta:
      owner: "Data Team"
      tags: ["github", "activity"] # <--- Esta es la ubicación correcta para los tags
    # La línea duplicada de 'tags:' ha sido eliminada